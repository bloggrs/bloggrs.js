/*!
 * 
 *   @bloggrs/bloggrsjs v0.0.6
 *   https://github.com/bloggrs/bloggrs.js
 *
 *   Copyright (c) Gjergj Kadriu (https://github.com/gjergjk71) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Bloggrs=t():e.Bloggrs=t()}(self,(function(){return e={479:e=>{class t{constructor({blog_id:e,secret:t}){this.blog_id=e,this.secret=t,this.base_url="http://localhost:4000/api/v1"}async getCategories(){const e=await fetch(`${this.base_url}/blogs/${this.blog_id}/categories`),{data:{categories:t}}=await e.json();return t}async getPosts(){const e=await fetch(`${this.base_url}/blogs/${this.blog_id}/posts`),{data:{posts:t}}=await e.json();return t}async getSinglePost(e){const t=await fetch(`${this.base_url}/blogs/${this.blog_id}/posts/${e}`),{data:{post:n}}=await t.json();return n}async getPages(){const e=await fetch(`${this.base_url}/blogs/${this.blog_id}/pages`),{data:{pages:t}}=await e.json();return t}async getBlog(){const e=await fetch(`${this.base_url}/blogs/${this.blog_id}`),{data:{blog:t}}=await e.json();return t}}const n=class{constructor({blog_id:e,secret:n}){this.blog_id=e,this.secret=n,this.bloggrsApi=new t({blog_id:e,secret:n})}handleCreatePagesListWidget=async e=>{const t=`\n      <div class="w-3/12 hidden sm:block sm:ml-6">\n        <div class="flex space-x-4">\n          \x3c!-- Current: "bg-slate-900 text-white", Default: "text-slate-300 hover:bg-slate-700 hover:text-white" --\x3e\n\n          ${(await this.bloggrsApi.getPages()).map((e=>`<a href="${e.slug}" class="\n              text-slate-600\n              hover:text-slate-900\n              px-3\n              py-2\n              rounded-md\n              text-base\n              font-medium\n            ">${e.name}</a>`)).join(" ")}\n        </div>\n      </div>\n    `;return e.innerHTML=t,t};handleCreateHeaderWidget=async e=>{const t=`\n      <nav class="bg-white shadow-md max-h-96 py-5">\n            <div class="mx-32 px-2 sm:px-6 lg:px-8">\n              <div class="relative flex items-center justify-between h-16">\n                <div class="absolute inset-y-0 left-0 flex items-center sm:hidden">\n                  \x3c!-- Mobile menu button--\x3e\n                  <button type="button" class="\n                      inline-flex\n                      items-center\n                      justify-center\n                      p-2\n                      rounded-md\n                      text-slate-400\n                      hover:text-white hover:bg-slate-700\n                      focus:outline-none\n                      focus:ring-2\n                      focus:ring-inset\n                      focus:ring-white\n                    " aria-controls="mobile-menu" aria-expanded="false">\n                    <span class="sr-only">Open main menu</span>\n                    \x3c!--\n                    Icon when menu is closed.\n\n                    Heroicon name: outline/menu\n\n                    Menu open: "hidden", Menu closed: "block"\n                  --\x3e\n                    <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>\n                    </svg>\n                    \x3c!--\n                    Icon when menu is open.\n\n                    Heroicon name: outline/x\n\n                    Menu open: "block", Menu closed: "hidden"\n                  --\x3e\n                    <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">\n                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n                    </svg>\n                  </button>\n                </div>\n                <div class="flex-1 flex items-center justify-center sm:justify-start">\n                  <div class="w-9/12 flex-shrink-0 flex items-center">\n                    <img class="block w-40 lg:hidden h-8 w-auto h-auto" src="/dist/static/logo-placeholder-image.png" alt="Workflow">\n                    <img class="hidden absolute lg:block h-32 w-auto h-auto" style="width: 12rem;" src="/dist/static/logo-placeholder-image.png" alt="Workflow">\n                    <h1 class="text-xl lg:px-52 md:px-22 font-bold text-slate-700">${(await this.bloggrsApi.getBlog()).name}</h1>\n                  </div>\n                  <div id="pages_list"></div>\n                </div>\n              </div>\n            </div>\n\n            \x3c!-- Mobile menu, show/hide based on menu state. --\x3e\n            <div class="sm:hidden" id="mobile-menu">\n              <div class="px-2 pt-2 pb-3 space-y-1">\n                \x3c!-- Current: "bg-slate-900 text-white", Default: "text-slate-300  hover:text-slate-900" --\x3e\n                <a href="#" class="\n                    bg-slate-900\n                    text-white\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  " aria-current="page">Dashboard</a>\n\n                <a href="#" class="\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  ">Features</a>\n\n                <a href="#" class="\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  ">Pricing</a>\n\n                <a href="#" class="\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  ">Blog</a>\n              </div>\n            </div>\n          </nav>\n    `;e.innerHTML=t;const n=e.querySelector("#pages_list");return this.createWidget(n,{type:"pages_list"}),t};handleCreateCategoriesWidget=async e=>{console.log(this.bloggrsApi,this.bloggrsApi,this.secret);const t=await this.bloggrsApi.getCategories(),n=document.createElement("div");n.className="my-50 mb-14 bg-white shadow-md max-h-1/2 w-3/4 rounded-md justify-center";const s=document.createElement("div");s.className="mx-6";const a=document.createElement("h1");a.className="py-3 mb-4 text-slate-700 font-medium text-xl",a.innerHTML="Categories";const i=document.createElement("ul");i.className="py-4 mx-5 list-disc space-y-3";for(let e of t){const t=document.createElement("li");t.innerHTML=`${e.name} (${e.meta.posts_count})`,i.appendChild(t)}return s.appendChild(a),s.appendChild(i),n.appendChild(s),e.appendChild(n),n};handleCreatePostsListWidget=async e=>{const t=`\n    <div class="h-full grid grid-rows-3 grid-flow-col col-span-2 gap-4">\n        ${(await this.bloggrsApi.getPosts()).map((e=>`\n          <div class="border-b-2 border-b-slate-300 col-span-3 h-full flex">\n            <div class="bg-white shadow-md h-3/4 w-1/2 rounded-md"></div>\n            <div class="px-3 h-3/4 w-3/4">\n              <h1 class="text-slate-700 font-medium text-xl">\n                ${e.title}\n              </h1>\n              <p class="py-2 text-slate-400 font-normal text-sm">\n                ${e.html_content}\n              </p>\n              <div class="flex">\n                <p class="ml-24text-slate-700 font-normal text-sm">\n                  Wednesday, December 22, 2021 &nbsp;&nbsp;&nbsp; |\n                </p>\n                <p class="mx-4 text-slate-700 font-normal text-sm">\n                  John Cena\n                </p>\n              </div>\n              <div class="flex  my-2 w-full">\n                <p class="w-1/2 text-blue-300 font-medium text-sm flex ">\n                  <img src="/dist/static/icons8-heart-80.png">\n                  <span class="mx-2 text-center my-2">${e.meta.likes_count} likes</span>\n                </p>\n                <p class="w-1/2 right-0 text-blue-400 font-normal text-sm flex items-center justify-center">\n                  <img src="/dist/static/icons8-comments-80.png">\n                  <span class="mx-2">${e.meta.comments_count} comments</span>\n                </p>\n              </div>\n            </div>\n          </div>\n          `)).join(" ")}\n      </div>\n    `;return e.innerHTML=t,t};handleCreateSinglePostWidget=async(e,{post_id:t})=>{const n=await this.bloggrsApi.getSinglePost(t),s=`\n      <div style="grid-template-rows: repeat(2, minmax(0, 0.8fr)" class="h-full grid grid-rows-2 grid-flow-col col-span-2">\n        <div style="z-index: -1;" class="h-80 col-span-3 bg-white shadow-md  rounded-md"></div>\n        <div class="col-span-3" style="margin-top: 0 auto;">\n          <div class="col-span-3 h-full flex">\n            <div class="px-3 w-full">\n              <h1 class="text-slate-700 font-medium text-4xl">\n                ${n.title}\n              </h1>\n              <div class="flex my-5">\n                <p class="text-slate-700 font-normal text-sm">\n                  Wednesday, December 22, 2021 &nbsp;&nbsp;&nbsp;\n                </p>\n                <p class="mx-4 text-slate-700 font-normal text-sm">\n                  John Cena\n                </p>\n              </div>\n              <p class="w-full py-2 text-slate-400 font-normal text-xl w-full">\n                ${n.html_content}</p>\n              <div class="flex  my-6 w-full">\n                <p class="w-2/12 text-blue-300 font-medium text-sm flex ">\n                  <img src="/dist/static/icons8-heart-80.png"/>\n                  <span class="mx-2 text-center my-2">${n.meta.likes_count} likes</span>\n                </p>\n                <p class="text-blue-400 font-normal text-sm flex items-center justify-center">\n                  <img src="/dist/static/icons8-comments-80.png"/>\n                  <span class="mx-2">${n.meta.comments_count} comments</span>\n                </p>\n              </div>\n\n            </div>\n          </div>  \n        </div>\n        <br/>\n      </div>\n    `;return e.innerHTML=s,s};createWidget(e,{type:t,...n}){return{categories:this.handleCreateCategoriesWidget,pages_list:this.handleCreatePagesListWidget,header:this.handleCreateHeaderWidget,posts_list:this.handleCreatePostsListWidget,single_post:this.handleCreateSinglePostWidget}[t](e,n)}};e.exports=n}},t={},function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}(479);var e,t}));
//# sourceMappingURL=index.js.map