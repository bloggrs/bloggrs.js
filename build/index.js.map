{"version":3,"file":"index.js","mappings":"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","sources":["webpack://Bloggrs/webpack/universalModuleDefinition","webpack://Bloggrs/./src/lib/index.js","webpack://Bloggrs/webpack/bootstrap","webpack://Bloggrs/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Bloggrs\"] = factory();\n\telse\n\t\troot[\"Bloggrs\"] = factory();\n})(self, function() {\nreturn ","class BloggrsAPI {\n  constructor({ blog_id, secret }) {\n    this.blog_id = blog_id;\n    this.secret = secret;\n    this.base_url = \"http://localhost:4000/api/v1\";\n  }\n  async getCategories() {\n    const res = await fetch(\n      `${this.base_url}/blogs/${this.blog_id}/categories`\n    );\n    const {\n      data: { categories },\n    } = await res.json();\n    return categories;\n  }\n  async getPosts() {\n    const res = await fetch(`${this.base_url}/blogs/${this.blog_id}/posts`);\n    const {\n      data: { posts },\n    } = await res.json();\n    return posts;\n  }\n  async getSinglePost(post_id) {\n    const res = await fetch(\n      `${this.base_url}/blogs/${this.blog_id}/posts/${post_id}`\n    );\n    const {\n      data: { post },\n    } = await res.json();\n    return post;\n  }\n  async getPages() {\n    const res = await fetch(`${this.base_url}/blogs/${this.blog_id}/pages`);\n    const {\n      data: { pages },\n    } = await res.json();\n    return pages;\n  }\n  async getBlog() {\n    const res = await fetch(`${this.base_url}/blogs/${this.blog_id}`);\n    const {\n      data: { blog },\n    } = await res.json();\n    return blog;\n  }\n}\n\nclass BloggrsClient {\n  constructor({ blog_id, secret }) {\n    this.blog_id = blog_id;\n    this.secret = secret;\n    this.bloggrsApi = new BloggrsAPI({ blog_id, secret });\n  }\n  handleCreatePagesListWidget = async (el) => {\n    const pages = await this.bloggrsApi.getPages();\n    const div = `\n      <div class=\"w-3/12 hidden sm:block sm:ml-6\">\n        <div class=\"flex space-x-4\">\n          <!-- Current: \"bg-slate-900 text-white\", Default: \"text-slate-300 hover:bg-slate-700 hover:text-white\" -->\n\n          ${pages\n            .map(\n              (page) =>\n                `<a href=\"${page.slug}\" class=\"\n              text-slate-600\n              hover:text-slate-900\n              px-3\n              py-2\n              rounded-md\n              text-base\n              font-medium\n            \">${page.name}</a>`\n            )\n            .join(\" \")}\n        </div>\n      </div>\n    `;\n    el.innerHTML = div;\n    return div;\n  };\n  handleCreateHeaderWidget = async (el) => {\n    const blog = await this.bloggrsApi.getBlog();\n    const div = `\n      <nav class=\"bg-white shadow-md max-h-96 py-5\">\n            <div class=\"mx-32 px-2 sm:px-6 lg:px-8\">\n              <div class=\"relative flex items-center justify-between h-16\">\n                <div class=\"absolute inset-y-0 left-0 flex items-center sm:hidden\">\n                  <!-- Mobile menu button-->\n                  <button type=\"button\" class=\"\n                      inline-flex\n                      items-center\n                      justify-center\n                      p-2\n                      rounded-md\n                      text-slate-400\n                      hover:text-white hover:bg-slate-700\n                      focus:outline-none\n                      focus:ring-2\n                      focus:ring-inset\n                      focus:ring-white\n                    \" aria-controls=\"mobile-menu\" aria-expanded=\"false\">\n                    <span class=\"sr-only\">Open main menu</span>\n                    <!--\n                    Icon when menu is closed.\n\n                    Heroicon name: outline/menu\n\n                    Menu open: \"hidden\", Menu closed: \"block\"\n                  -->\n                    <svg class=\"block h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    </svg>\n                    <!--\n                    Icon when menu is open.\n\n                    Heroicon name: outline/x\n\n                    Menu open: \"block\", Menu closed: \"hidden\"\n                  -->\n                    <svg class=\"hidden h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                    </svg>\n                  </button>\n                </div>\n                <div class=\"flex-1 flex items-center justify-center sm:justify-start\">\n                  <div class=\"w-9/12 flex-shrink-0 flex items-center\">\n                    <img class=\"block w-40 lg:hidden h-8 w-auto h-auto\" src=\"/dist/static/logo-placeholder-image.png\" alt=\"Workflow\">\n                    <img class=\"hidden absolute lg:block h-32 w-auto h-auto\" style=\"width: 12rem;\" src=\"/dist/static/logo-placeholder-image.png\" alt=\"Workflow\">\n                    <h1 class=\"text-xl lg:px-52 md:px-22 font-bold text-slate-700\">${blog.name}</h1>\n                  </div>\n                  <div id=\"pages_list\"></div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Mobile menu, show/hide based on menu state. -->\n            <div class=\"sm:hidden\" id=\"mobile-menu\">\n              <div class=\"px-2 pt-2 pb-3 space-y-1\">\n                <!-- Current: \"bg-slate-900 text-white\", Default: \"text-slate-300  hover:text-slate-900\" -->\n                <a href=\"#\" class=\"\n                    bg-slate-900\n                    text-white\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \" aria-current=\"page\">Dashboard</a>\n\n                <a href=\"#\" class=\"\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \">Features</a>\n\n                <a href=\"#\" class=\"\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \">Pricing</a>\n\n                <a href=\"#\" class=\"\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \">Blog</a>\n              </div>\n            </div>\n          </nav>\n    `;\n    el.innerHTML = div;\n    const pages_list_el = el.querySelector(\"#pages_list\");\n    this.createWidget(pages_list_el, { type: \"pages_list\" });\n    return div;\n  };\n  handleCreateCategoriesWidget = async (el) => {\n    console.log(this.bloggrsApi, this.bloggrsApi, this.secret);\n    const categories = await this.bloggrsApi.getCategories();\n    const div = document.createElement(\"div\");\n    div.className =\n      \"my-50 mb-14 bg-white shadow-md max-h-1/2 w-3/4 rounded-md justify-center\";\n    const div__div2 = document.createElement(\"div\");\n    div__div2.className = \"mx-6\";\n    const div2__h1 = document.createElement(\"h1\");\n    div2__h1.className = \"py-3 mb-4 text-slate-700 font-medium text-xl\";\n    div2__h1.innerHTML = \"Categories\";\n    const div2__ul = document.createElement(\"ul\");\n    div2__ul.className = \"py-4 mx-5 list-disc space-y-3\";\n    for (let category of categories) {\n      const ul__li = document.createElement(\"li\");\n      ul__li.innerHTML = `${category.name} (${category.meta.posts_count})`;\n      div2__ul.appendChild(ul__li);\n    }\n    //\n    div__div2.appendChild(div2__h1);\n    div__div2.appendChild(div2__ul);\n    div.appendChild(div__div2);\n    el.appendChild(div);\n    return div;\n  };\n  handleCreatePostsListWidget = async (el) => {\n    const posts = await this.bloggrsApi.getPosts();\n    const div = `\n    <div class=\"h-full grid grid-rows-3 grid-flow-col col-span-2 gap-4\">\n        ${posts\n          .map((post) => {\n            return `\n          <div class=\"border-b-2 border-b-slate-300 col-span-3 h-full flex\">\n            <div class=\"bg-white shadow-md h-3/4 w-1/2 rounded-md\"></div>\n            <div class=\"px-3 h-3/4 w-3/4\">\n              <h1 class=\"text-slate-700 font-medium text-xl\">\n                ${post.title}\n              </h1>\n              <p class=\"py-2 text-slate-400 font-normal text-sm\">\n                ${post.html_content}\n              </p>\n              <div class=\"flex\">\n                <p class=\"ml-24text-slate-700 font-normal text-sm\">\n                  Wednesday, December 22, 2021 &nbsp;&nbsp;&nbsp; |\n                </p>\n                <p class=\"mx-4 text-slate-700 font-normal text-sm\">\n                  John Cena\n                </p>\n              </div>\n              <div class=\"flex  my-2 w-full\">\n                <p class=\"w-1/2 text-blue-300 font-medium text-sm flex \">\n                  <img src=\"/dist/static/icons8-heart-80.png\">\n                  <span class=\"mx-2 text-center my-2\">${post.meta.likes_count} likes</span>\n                </p>\n                <p class=\"w-1/2 right-0 text-blue-400 font-normal text-sm flex items-center justify-center\">\n                  <img src=\"/dist/static/icons8-comments-80.png\">\n                  <span class=\"mx-2\">${post.meta.comments_count} comments</span>\n                </p>\n              </div>\n            </div>\n          </div>\n          `;\n          })\n          .join(\" \")}\n      </div>\n    `;\n    el.innerHTML = div;\n    return div;\n  };\n  handleCreateSinglePostWidget = async (el, { post_id }) => {\n    const post = await this.bloggrsApi.getSinglePost(post_id);\n    const div = `\n      <div style=\"grid-template-rows: repeat(2, minmax(0, 0.8fr)\" class=\"h-full grid grid-rows-2 grid-flow-col col-span-2\">\n        <div style=\"z-index: -1;\" class=\"h-80 col-span-3 bg-white shadow-md  rounded-md\"></div>\n        <div class=\"col-span-3\" style=\"margin-top: 0 auto;\">\n          <div class=\"col-span-3 h-full flex\">\n            <div class=\"px-3 w-full\">\n              <h1 class=\"text-slate-700 font-medium text-4xl\">\n                ${post.title}\n              </h1>\n              <div class=\"flex my-5\">\n                <p class=\"text-slate-700 font-normal text-sm\">\n                  Wednesday, December 22, 2021 &nbsp;&nbsp;&nbsp;\n                </p>\n                <p class=\"mx-4 text-slate-700 font-normal text-sm\">\n                  John Cena\n                </p>\n              </div>\n              <p class=\"w-full py-2 text-slate-400 font-normal text-xl w-full\">\n                ${post.html_content}</p>\n              <div class=\"flex  my-6 w-full\">\n                <p class=\"w-2/12 text-blue-300 font-medium text-sm flex \">\n                  <img src=\"/dist/static/icons8-heart-80.png\"/>\n                  <span class=\"mx-2 text-center my-2\">${post.meta.likes_count} likes</span>\n                </p>\n                <p class=\"text-blue-400 font-normal text-sm flex items-center justify-center\">\n                  <img src=\"/dist/static/icons8-comments-80.png\"/>\n                  <span class=\"mx-2\">${post.meta.comments_count} comments</span>\n                </p>\n              </div>\n\n            </div>\n          </div>  \n        </div>\n        <br/>\n      </div>\n    `;\n    el.innerHTML = div;\n    return div;\n  };\n  createWidget(el, { type, ...options }) {\n    const widgets = {\n      categories: this.handleCreateCategoriesWidget,\n      pages_list: this.handleCreatePagesListWidget,\n      header: this.handleCreateHeaderWidget,\n      posts_list: this.handleCreatePostsListWidget,\n      single_post: this.handleCreateSinglePostWidget,\n    };\n    return widgets[type](el, options);\n  }\n}\n\nconst Bloggrs = BloggrsClient;\nmodule.exports = Bloggrs;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(479);\n"],"names":["root","factory","exports","module","define","amd","self","BloggrsAPI","constructor","blog_id","secret","this","base_url","res","fetch","data","categories","json","posts","post_id","post","pages","blog","Bloggrs","bloggrsApi","handleCreatePagesListWidget","async","div","getPages","map","page","slug","name","join","el","innerHTML","handleCreateHeaderWidget","getBlog","pages_list_el","querySelector","createWidget","type","handleCreateCategoriesWidget","console","log","getCategories","document","createElement","className","div__div2","div2__h1","div2__ul","category","ul__li","meta","posts_count","appendChild","handleCreatePostsListWidget","getPosts","title","html_content","likes_count","comments_count","handleCreateSinglePostWidget","getSinglePost","options","pages_list","header","posts_list","single_post","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"sourceRoot":""}