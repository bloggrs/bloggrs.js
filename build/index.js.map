{"version":3,"file":"index.js","mappings":"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","sources":["webpack://bloggrs/webpack/universalModuleDefinition","webpack://bloggrs/webpack/bootstrap","webpack://bloggrs/webpack/runtime/define property getters","webpack://bloggrs/webpack/runtime/hasOwnProperty shorthand","webpack://bloggrs/webpack/runtime/make namespace object","webpack://bloggrs/./src/lib/bloggrs-sdk/index.js","webpack://bloggrs/./src/lib/bloggrs-client/index.js","webpack://bloggrs/./src/lib/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bloggrs\"] = factory();\n\telse\n\t\troot[\"bloggrs\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","class BloggrsAPI {\n  constructor({ blog_id, secret }) {\n    this.blog_id = blog_id;\n    this.secret = secret;\n    this.base_url = \"http://localhost:4000/api/v1\";\n  }\n  async getCategories() {\n    const res = await fetch(\n      `${this.base_url}/blogs/${this.blog_id}/categories`\n    );\n    const {\n      data: { categories },\n    } = await res.json();\n    return categories;\n  }\n  async getPosts() {\n    const res = await fetch(`${this.base_url}/blogs/${this.blog_id}/posts`);\n    const {\n      data: { posts },\n    } = await res.json();\n    return posts;\n  }\n  async getPages() {\n    const res = await fetch(`${this.base_url}/blogs/${this.blog_id}/pages`);\n    const {\n      data: { pages },\n    } = await res.json();\n    return pages;\n  }\n  async getBlog() {\n    const res = await fetch(`${this.base_url}/blogs/${this.blog_id}`);\n    const {\n      data: { blog },\n    } = await res.json();\n    return blog;\n  }\n}\n\nexport default BloggrsAPI;\n","import BloggrsAPI from \"../bloggrs-sdk\";\n\nclass BloggrsClient {\n  constructor({ blog_id, secret }) {\n    this.blog_id = blog_id;\n    this.secret = secret;\n    this.bloggrsApi = new BloggrsAPI({ blog_id, secret });\n  }\n  handleCreatePagesListWidget = async (el) => {\n    const pages = await this.bloggrsApi.getPages();\n    const div = `\n      <div class=\"w-3/12 hidden sm:block sm:ml-6\">\n        <div class=\"flex space-x-4\">\n          <!-- Current: \"bg-slate-900 text-white\", Default: \"text-slate-300 hover:bg-slate-700 hover:text-white\" -->\n\n          ${pages\n            .map(\n              (page) =>\n                `<a href=\"${page.slug}\" class=\"\n              text-slate-600\n              hover:text-slate-900\n              px-3\n              py-2\n              rounded-md\n              text-base\n              font-medium\n            \">${page.name}</a>`\n            )\n            .join(\" \")}\n        </div>\n      </div>\n    `;\n    el.innerHTML = div;\n    return div;\n  };\n  handleCreateHeaderWidget = async (el) => {\n    const blog = await this.bloggrsApi.getBlog();\n    const div = `\n      <nav class=\"bg-white shadow-md max-h-96 py-5\">\n            <div class=\"mx-32 px-2 sm:px-6 lg:px-8\">\n              <div class=\"relative flex items-center justify-between h-16\">\n                <div class=\"absolute inset-y-0 left-0 flex items-center sm:hidden\">\n                  <!-- Mobile menu button-->\n                  <button type=\"button\" class=\"\n                      inline-flex\n                      items-center\n                      justify-center\n                      p-2\n                      rounded-md\n                      text-slate-400\n                      hover:text-white hover:bg-slate-700\n                      focus:outline-none\n                      focus:ring-2\n                      focus:ring-inset\n                      focus:ring-white\n                    \" aria-controls=\"mobile-menu\" aria-expanded=\"false\">\n                    <span class=\"sr-only\">Open main menu</span>\n                    <!--\n                    Icon when menu is closed.\n\n                    Heroicon name: outline/menu\n\n                    Menu open: \"hidden\", Menu closed: \"block\"\n                  -->\n                    <svg class=\"block h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"></path>\n                    </svg>\n                    <!--\n                    Icon when menu is open.\n\n                    Heroicon name: outline/x\n\n                    Menu open: \"block\", Menu closed: \"hidden\"\n                  -->\n                    <svg class=\"hidden h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" aria-hidden=\"true\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                    </svg>\n                  </button>\n                </div>\n                <div class=\"flex-1 flex items-center justify-center sm:justify-start\">\n                  <div class=\"w-9/12 flex-shrink-0 flex items-center\">\n                    <img class=\"block w-40 lg:hidden h-8 w-auto h-auto\" src=\"/dist/static/logo-placeholder-image.png\" alt=\"Workflow\">\n                    <img class=\"hidden absolute lg:block h-32 w-auto h-auto\" style=\"width: 12rem;\" src=\"/dist/static/logo-placeholder-image.png\" alt=\"Workflow\">\n                    <h1 class=\"text-xl lg:px-52 md:px-22 font-bold text-slate-700\">${blog.name}</h1>\n                  </div>\n                  <div id=\"pages_list\"></div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Mobile menu, show/hide based on menu state. -->\n            <div class=\"sm:hidden\" id=\"mobile-menu\">\n              <div class=\"px-2 pt-2 pb-3 space-y-1\">\n                <!-- Current: \"bg-slate-900 text-white\", Default: \"text-slate-300  hover:text-slate-900\" -->\n                <a href=\"#\" class=\"\n                    bg-slate-900\n                    text-white\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \" aria-current=\"page\">Dashboard</a>\n\n                <a href=\"#\" class=\"\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \">Features</a>\n\n                <a href=\"#\" class=\"\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \">Pricing</a>\n\n                <a href=\"#\" class=\"\n                    text-slate-300\n                    hover:text-slate-900\n                    block\n                    px-3\n                    py-2\n                    rounded-md\n                    text-base\n                    font-medium\n                  \">Blog</a>\n              </div>\n            </div>\n          </nav>\n    `;\n    el.innerHTML = div;\n    const pages_list_el = el.querySelector(\"#pages_list\");\n    this.createWidget(pages_list_el, { type: \"pages_list\" });\n    return div;\n  };\n  handleCreateCategoriesWidget = async (el) => {\n    console.log(this.bloggrsApi, this.bloggrsApi, this.secret);\n    const categories = await this.bloggrsApi.getCategories();\n    const div = document.createElement(\"div\");\n    div.className =\n      \"my-50 mb-14 bg-white shadow-md max-h-1/2 w-3/4 rounded-md justify-center\";\n    const div__div2 = document.createElement(\"div\");\n    div__div2.className = \"mx-6\";\n    const div2__h1 = document.createElement(\"h1\");\n    div2__h1.className = \"py-3 mb-4 text-slate-700 font-medium text-xl\";\n    div2__h1.innerHTML = \"Categories\";\n    const div2__ul = document.createElement(\"ul\");\n    div2__ul.className = \"py-4 mx-5 list-disc space-y-3\";\n    for (let category of categories) {\n      const ul__li = document.createElement(\"li\");\n      ul__li.innerHTML = `${category.name} (${category.meta.posts_count})`;\n      div2__ul.appendChild(ul__li);\n    }\n    //\n    div__div2.appendChild(div2__h1);\n    div__div2.appendChild(div2__ul);\n    div.appendChild(div__div2);\n    el.appendChild(div);\n    return div;\n  };\n  handleCreatePostsListWidget = async (el) => {\n    const posts = await this.bloggrsApi.getPosts();\n    const div = `\n    <div class=\"h-full grid grid-rows-3 grid-flow-col col-span-2 gap-4\">\n        ${posts\n          .map((post) => {\n            return `\n          <div class=\"border-b-2 border-b-slate-300 col-span-3 h-full flex\">\n            <div class=\"bg-white shadow-md h-3/4 w-1/2 rounded-md\"></div>\n            <div class=\"px-3 h-3/4 w-3/4\">\n              <h1 class=\"text-slate-700 font-medium text-xl\">\n                ${post.title}\n              </h1>\n              <p class=\"py-2 text-slate-400 font-normal text-sm\">\n                ${post.html_content}\n              </p>\n              <div class=\"flex\">\n                <p class=\"ml-24text-slate-700 font-normal text-sm\">\n                  Wednesday, December 22, 2021 &nbsp;&nbsp;&nbsp; |\n                </p>\n                <p class=\"mx-4 text-slate-700 font-normal text-sm\">\n                  John Cena\n                </p>\n              </div>\n              <div class=\"flex  my-2 w-full\">\n                <p class=\"w-1/2 text-blue-300 font-medium text-sm flex \">\n                  <img src=\"/dist/static/icons8-heart-80.png\">\n                  <span class=\"mx-2 text-center my-2\">${post.meta.likes_count} likes</span>\n                </p>\n                <p class=\"w-1/2 right-0 text-blue-400 font-normal text-sm flex items-center justify-center\">\n                  <img src=\"/dist/static/icons8-comments-80.png\">\n                  <span class=\"mx-2\">${post.meta.comments_count} comments</span>\n                </p>\n              </div>\n            </div>\n          </div>\n          `;\n          })\n          .join(\" \")}\n      </div>\n    `;\n    el.innerHTML = div;\n    return div;\n  };\n  createWidget(el, { type }) {\n    const widgets = {\n      categories: this.handleCreateCategoriesWidget,\n      pages_list: this.handleCreatePagesListWidget,\n      header: this.handleCreateHeaderWidget,\n      posts_list: this.handleCreatePostsListWidget,\n    };\n    return widgets[type](el);\n  }\n}\n\nexport default BloggrsClient;\n","import bloggrs from \"./bloggrs-client\";\n// import \"./index.css\";\n\nexport default bloggrs;\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","BloggrsAPI","blog_id","secret","this","base_url","fetch","res","json","categories","data","posts","pages","blog","BloggrsClient","el","bloggrsApi","getPages","div","map","page","slug","name","join","innerHTML","getBlog","pages_list_el","querySelector","createWidget","type","console","log","getCategories","document","createElement","className","div__div2","div2__h1","div2__ul","category","ul__li","meta","posts_count","appendChild","getPosts","post","title","html_content","likes_count","comments_count","handleCreateCategoriesWidget","pages_list","handleCreatePagesListWidget","header","handleCreateHeaderWidget","posts_list","handleCreatePostsListWidget"],"sourceRoot":""}